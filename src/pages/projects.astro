---
import { getCollection } from "astro:content"
import Layout from "../layouts/Layout.astro"
import ProjectCard from "../lib/ProjectCard.astro"

const projects = await getCollection("projects")
projects.sort((a, b) => a.data.order - b.data.order)
---

<Layout title="Austin Crim | blogging for the web" route="projects">
  <meta
    name="description"
    content="The personal blog of Austin Crim, a web builder"
    slot="og"
  />
  <meta
    name="og:title"
    content="The personal blog of Austin Crim, a web builder"
    slot="og"
  />
  <meta name="og:image" content="https://austincrim.com/og/blog" slot="og" />
  <meta name="og:url" content="https://austincrim.com/" slot="og" />

  <div class="max-w-5xl mx-auto mt-20">
    <ul class="flex flex-col gap-16">
      {
        projects.map((project) => (
          <li>
            <ProjectCard {project} />
          </li>
        ))
      }
    </ul>
  </div>
</Layout>
